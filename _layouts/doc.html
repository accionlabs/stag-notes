<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
      <!-- Mermaid Script -->
   <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    </script>
   <style>
    .mermaid g.cluster g.cluster-label div {
      width: fit-content !important;
      max-width: fit-content !important;
    }
   </style>
  <!-- Reveal.js for slideshow -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/theme/black.css" id="theme">
  <style>
  #slideshow-view {
    width: 100vw;
    height: 100vh;
  }

  .reveal {
    height: 100%;
  }
</style>
</head>
<body>
    <div class="container">
        <!-- Mobile menu toggle -->
        <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <!-- Desktop sidebar toggle -->
        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
            <span>‚Äπ</span>
        </button>

        <!-- Navigation sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h2>
            </div>
            <div class="nav-content">
                {% include navigation.html %}
            </div>
        </nav>

        <!-- Main content -->
        <main class="main-content">
            <!-- Breadcrumbs -->
            <div class="no-print">
                {% include breadcrumbs.html %}
            </div>
            
            <!-- Page content -->
            <article class="content">
                <div class="no-print">
                    {% if page.title %}
                        <h1>{{ page.title }}</h1>
                    {% endif %}
                    
                    {% if page.description %}
                        <p class="description">{{ page.description }}</p>
                    {% endif %}

                    <!-- Export Options -->
                    <div class="export-options">
                        <h4>Export Options:</h4>
                        <div class="export-buttons">
                            <button onclick="exportToHTML()" class="export-btn">
                                üíæ Export as HTML
                            </button>
                            <button onclick="exportWithMermaid()" class="export-btn">
                                üìä Export with Diagrams
                            </button>
                            <button onclick="copyToClipboard()" class="export-btn">
                                üìã Copy for Google Docs
                            </button>
                            <button onclick="openPrintView()" class="export-btn">
                                üñ®Ô∏è Print View
                            </button>
                            <button onclick="toggleViewMode()" class="export-btn">
                                üéõÔ∏è Toggle View Mode
                            </button>
                        </div>
                    </div>
                </div>

                {{ content }}
            </article>
        </main>
          <!-- Slideshow View (initially hidden) -->
          <div id="slideshow-view" style="display:none;">
            <div class="reveal">
              <div class="slides" id="slides-container"></div>
            </div>
          </div>
    </div>

    <script src="{{ '/assets/js/navigation.js' | relative_url }}"></script>
  <!-- Reveal.js -->
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/reveal.js"></script>

  <!-- Slide View Toggle Script -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
    </script>

    <script src="{{ '/assets/js/slides.js' | relative_url }}"></script>

</body>
</html>